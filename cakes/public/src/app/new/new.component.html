<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title> Add New Cake </title>
</head>
<body>
    <div class="root">
            <h3>Submit a cake to be rated</h3>
    <form>
      <div class="form-group1">
        <label for="formGroupExampleInput">Baker Name:</label>
        <input type="text" class="form-control" id="formGroupExampleInput"  name="cake.baker" [(ngModel)]="cake.baker" placeholder="baker">
      </div>
      <div class="form-group1">
        <label for="formGroupExampleInput2">Image Url:</label>
        <input type="text" class="form-control" id="formGroupExampleInput2" name="cake.url" [(ngModel)]="cake.url" placeholder="url">
            <button class="button" (click)="submitForm1()">Submit</button>
            </div>
    </form>
</div>
    <div class="show_all">
    <div *ngFor='let x of cakes' class="cake">
            <button (click)="cakeShow(x._id)"><img src="{{ x.url }}" /></button>
        <form>
            <h4>{{ x.baker }} baked this cake</h4>
        <select class="form-control" name="myobj.rating" id="select1" [(ngModel)]="myobj.rating">
            <option value="1" >1 Star</option>
            <option value="2">2 Stars</option>
            <option value="3">3 Stars</option>
            <option value="4">4 Stars</option>
            <option value="5">5 Stars</option>
        </select>
            <div class="form-group">
                <input type="text" class="form-control" id="formGroupExampleInput" name="myobj.comment"
                    [(ngModel)]="myobj.comment" placeholder="comment">
            </div>
            <button class="button" (click)="rate(x._id)">Submit</button>
            <button class="button1" (click)="deleteCake(x)">Delete</button>
        </form>
    </div>
</div>
<div *ngIf='cakeShow' class="show">
        <img class="showcake" src="{{ cake.url }}" />
        <h3>{{cake.baker}} baked this cake</h3><br>
        <div *ngFor='let x of cakeShow.ratings' class="rating">
        <td>Average Rating: {{x.ratings}}</td><br>
        <td> Comments: {{x.comment}} </td><br>
        </div>
    </div>
</body>

</html>